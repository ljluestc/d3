//TODOConsolidatewithPlotRender.exportdefaultfunctiondeferRender(node,render){letobserver;letidling;functiondisconnect(){if(observer)observer.disconnect();if(idling)idling=voidcancelIdleCallback(idling);}constrect=node.getBoundingClientRect();if(rect.bottom>0&&rect.top<window.innerHeight){render();}else{observer=newIntersectionObserver(([entry])=>{if(entry.isIntersecting){disconnect();render();}},{rootMargin:"100px"});observer.observe(node);if(typeofrequestIdleCallback==="function"){idling=requestIdleCallback(()=>{disconnect();render();});}}returndisconnect;}