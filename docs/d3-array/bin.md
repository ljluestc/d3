#BinningdataBinquantitativevaluesintoconsecutive,non-overlappingintervals,asinhistograms.(SeealsoObservablePlot’s[bintransform](https://observablehq.com/plot/transforms/bin).)##bin(){#bin}```jsconstbin=d3.bin().value((d)=>d.culmen_length_mm);```[Examples](https://observablehq.com/@d3/d3-bin)·[Source](https://github.com/d3/d3-array/blob/main/src/bin.js)·Constructsanewbingeneratorwiththedefaultsettings.Thereturnedbingeneratorsupportsmethodchaining,sothisconstructoristypicallychainedwith[*bin*.value](#bin_value)toassignavalueaccessor.Thereturnedgeneratorisalsoafunction;[passitdata](#_bin)tobin.##*bin*(*data*){#_bin}```jsconstbins=d3.bin().value((d)=>d.culmen_length_mm)(penguins);```Binsthegiveniterableof*data*samples.Returnsanarrayofbins,whereeachbinisanarraycontainingtheassociatedelementsfromtheinput*data*.Thus,the`length`ofthebinisthenumberofelementsinthatbin.Eachbinhastwoadditionalattributes:*`x0`-thelowerboundofthebin(inclusive).*`x1`-theupperboundofthebin(exclusive,exceptforthelastbin).Anynullornon-comparablevaluesinthegiven*data*,orthoseoutsidethe[domain](#bin_domain),areignored.##*bin*.value(*value*){#bin_value}```jsconstbin=d3.bin().value((d)=>d.culmen_length_mm);```If*value*isspecified,setsthevalueaccessortothespecifiedfunctionorconstantandreturnsthisbingenerator.```jsbin.value()//(d)=>d.culmen_length_mm```If*value*isnotspecified,returnsthecurrentvalueaccessor,whichdefaultstotheidentityfunction.Whenbinsare[generated](#_bin),thevalueaccessorwillbeinvokedforeachelementintheinputdataarray,beingpassedtheelement`d`,theindex`i`,andthearray`data`asthreearguments.Thedefaultvalueaccessorassumesthattheinputdataareorderable(comparable),suchasnumbersordates.Ifyourdataarenot,thenyoushouldspecifyanaccessorthatreturnsthecorrespondingorderablevalueforagivendatum.Thisissimilartomappingyourdatatovaluesbeforeinvokingthebingenerator,buthasthebenefitthattheinputdataremainsassociatedwiththereturnedbins,therebymakingiteasiertoaccessotherfieldsofthedata.##*bin*.domain(*domain*){#bin_domain}```jsconstbin=d3.bin().domain([0,1]);```If*domain*isspecified,setsthedomainaccessortothespecifiedfunctionorarrayandreturnsthisbingenerator.```jsbin.domain()//[0,1]```If*domain*isnotspecified,returnsthecurrentdomainaccessor,whichdefaultsto[extent](./summarize.md#extent).Thebindomainisdefinedasanarray[*min*,*max*],where*min*istheminimumobservablevalueand*max*isthemaximumobservablevalue;bothvaluesareinclusive.Anyvalueoutsideofthisdomainwillbeignoredwhenthebinsare[generated](#_bin).Forexample,touseabingeneratorwitha[linearscale](../d3-scale/linear.md)`x`,youmightsay:```jsconstbin=d3.bin().domain(x.domain()).thresholds(x.ticks(20));```Youcanthencomputethebinsfromanarrayofnumberslikeso:```jsconstbins=bin(numbers);```Ifthedefault[extent](./summarize.md#extent)domainisusedandthe[thresholds](#bin_thresholds)arespecifiedasacount(ratherthanexplicitvalues),thenthecomputeddomainwillbe[niced](./ticks.md#nice)suchthatallbinsareuniformwidth.Notethatthedomainaccessorisinvokedonthematerializedarrayof[values](#bin_value),notontheinputdataarray.##*bin*.thresholds(*count*){#bin_thresholds}```jsconstbin=d3.bin().thresholds([0,0.5,1]);```If*thresholds*isspecified,setsthe[thresholdgenerator](#bin_thresholds)tothespecifiedfunctionorarrayandreturnsthisbingenerator.```jsbin.thresholds()//()=>[0,0.5,1]```If*thresholds*isnotspecified,returnsthecurrentthresholdgenerator,whichbydefaultimplements[Sturges’formula](#thresholdSturges).(Thusbydefault,thevaluestobebinnedmustbenumbers!)Thresholdsaredefinedasanarrayofvalues[*x0*,*x1*,…].Anyvaluelessthan*x0*willbeplacedinthefirstbin;anyvaluegreaterthanorequalto*x0*butlessthan*x1*willbeplacedinthesecondbin;andsoon.Thus,the[generatedbins](#_bin)willhave*thresholds*.length+1bins.Anythresholdvaluesoutsidethe[domain](#bin_domain)areignored.Thefirst*bin*.x0isalwaysequaltotheminimumdomainvalue,andthelast*bin*.x1isalwaysequaltothemaximumdomainvalue.```jsconstbin=d3.bin().thresholds(20);```Ifa*count*isspecifiedinsteadofanarrayof*thresholds*,thenthe[domain](#bin_domain)willbeuniformlydividedintoapproximately*count*bins;see[ticks](./ticks.md).```jsconstbin=d3.bin().thresholds((values)=>[d3.median(values)]);```Youmayalsoimplementyourownthresholdgeneratortakingthreearguments:thearrayofinput[*values*](#bin_value)derivedfromthedata,andthe[domain](#bin_domain)representedas*min*and*max*.Thegeneratormaythenreturneitherthearrayofnumericthresholdsorthe*count*ofbins;inthelattercasethedomainisdivideduniformlyintoapproximately*count*bins;see[ticks](./ticks.md#ticks).Forinstance,youmightwanttousetimetickswhenbinningtime-seriesdata;see[example](https://observablehq.com/@d3/d3-bin-time-thresholds).##thresholdFreedmanDiaconis(*values*,*min*,*max*){#thresholdFreedmanDiaconis}```jsconstbin=d3.bin().thresholds(d3.thresholdFreedmanDiaconis);```[Source](https://github.com/d3/d3-array/blob/main/src/threshold/freedmanDiaconis.js)·Returnsthenumberofbinsaccordingtothe[Freedman–Diaconisrule](https://en.wikipedia.org/wiki/Histogram#Mathematical_definition);theinput*values*mustbenumbers.##thresholdScott(*values*,*min*,*max*){#thresholdScott}```jsconstbin=d3.bin().thresholds(d3.thresholdScott);```[Source](https://github.com/d3/d3-array/blob/main/src/threshold/scott.js)·Returnsthenumberofbinsaccordingto[Scott’snormalreferencerule](https://en.wikipedia.org/wiki/Histogram#Mathematical_definition);theinput*values*mustbenumbers.##thresholdSturges(*values*,*min*,*max*){#thresholdSturges}```jsconstbin=d3.bin().thresholds(d3.thresholdSturges);```[Source](https://github.com/d3/d3-array/blob/main/src/threshold/sturges.js)·Returnsthenumberofbinsaccordingto[Sturges’formula](https://en.wikipedia.org/wiki/Histogram#Mathematical_definition);theinput*values*mustbenumbers.