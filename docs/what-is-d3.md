<scriptsetup>import*asPlotfrom"@observablehq/plot";import*asd3from"d3";import{useData}from"vitepress";import{computed}from"vue";importLogoDiagramfrom"./components/LogoDiagram.vue";importPlotRenderfrom"./components/PlotRender.js";const{site:{value:{themeConfig:{sidebar}}}}=useData();constpaths=computed(()=>{constpaths=[];(functionvisit(node,path){paths.push({path,link:node.link&&`.${node.link}`});if(node.items){for(constitemofnode.items){visit(item,(path==="/"?path:path+"/")+item.text);}}})({items:sidebar},"/D3");returnpaths;});//https://github.com/observablehq/plot/issues/1703functioncomputeTreeWidth(paths){constroot=d3.tree().nodeSize([1,1])(d3.stratify().path((d)=>d.path)(paths));const[x1,x2]=d3.extent(root,(d)=>d.x);returnx2-x1;}</script>#WhatisD3?<LogoDiagram/>**D3**(or**D3.js**)isafree,open-sourceJavaScriptlibraryforvisualizingdata.Itslow-levelapproachbuiltonwebstandardsoffersunparalleledflexibilityinauthoringdynamic,data-drivengraphics.FormorethanadecadeD3haspoweredgroundbreakingandaward-winningvisualizations,becomeafoundationalbuildingblockofhigher-levelchartlibraries,andfosteredavibrantcommunityofdatapractitionersaroundtheworld.D3“slingshottedthefieldintogrowth,diversificationandcreativitythathasbeenunprecedented”and“changedhowmillionsofdatavisualizationsarecreatedacrossnewsrooms,websites,andpersonalportfolios,”remarkedtheInformationisBeautiful[2022TestofTimeAward](https://nightingaledvs.com/information-is-beautiful-awards-test-of-time/).TheIEEEVIS[2021TestofTimeAward](https://ieeevis.org/year/2021/info/awards/test-of-time-awards)noted,“Bycreatingaframeworkthatwascompellingandeasyforwebdeveloperstousetoauthorinteractivevisualizations,theauthorshaveundeniablyhelpedtobringdatavisualizationtothemainstream.[D3]isacornerstonecontributiontothisconferencespecificallyandmoregenerallytothesuccessofourfieldasawhole.”D3wascreatedbyMikeBostockin2011.Mikeco-authoredthe[D3paper](http://vis.stanford.edu/papers/d3)withJeffHeerandVadimOgievetskyatStanford.JasonDaviesmademajorcontributionstoD3from2011to2013,mostnotablytoD3’sgeographicprojectionsystem.PhilippeRivièrehasbeenamajorcontributortoD3anditsdocumentationsince2016.Overtheyears,countlesskindindividualshavecontributedtoD3bysharingcodeandideas,byteachingandansweringquestions,andbybringingpeopletogethertofurtherthepracticeofvisualization.MikeandPhilippenowmaintainD3and[ObservablePlot](https://observablehq.com/plot)at[Observable](https://observablehq.com).##D3isalow-leveltoolboxD3isnotachartinglibraryinthetraditionalsense.Ithasnoconceptof“charts”.WhenyouvisualizedatawithD3,youcomposeavarietyofprimitives.Tomakea[stackedareachart](https://observablehq.com/@d3/stacked-area-chart/2),youmightuse-a[CSVparser](./d3-dsv.md)toloaddata,-a[timescale](./d3-scale/time.md)forhorizontalposition(*x*),-a[linearscale](./d3-scale/linear.md)forverticalposition(*y*),-an[ordinalscale](./d3-scale/ordinal.md)and[categoricalscheme](./d3-scale-chromatic/categorical.md)forcolor,-a[stacklayout](./d3-shape/stack.md)forarrangingvalues,-an[areashape](./d3-shape/area.md)witha[linearcurve](./d3-shape/curve.md)forgeneratingSVGpathdata,-[axes](./d3-axis.md)fordocumentingthepositionencodings,and-[selections](./d3-selection.md)forcreatingSVGelements.That’salottotakein,right?Buttakeadeepbreath—youdon’thavetolearneverythingatonce.Eachpiececanbeusedindependently,soyoucanlearnthemindividuallybeforeyoufitthemtogether.D3isnotasinglemonolithbutratherasuiteof30discretelibraries(or“modules”).Webundlethesemodulestogetherforconvenienceratherthannecessitysoyourtoolsarewithinreachasyouiterateonyourdesign.Whatall’sintheD3toolbox?Werecommendexploringthedocumentationandexamplestogetasenseofwhat’srelevanttoyou.<PlotRender:options='{axis:null,height:computeTreeWidth(paths)*12,marginTop:4,marginBottom:4,marginRight:120,marks:[Plot.tree(paths,{path:"path",textStroke:"var(--vp-c-bg)",channels:{href:{value:"link",filter:null}},treeSort:null})]}'/>:::tipUnlessyouneedD3’slow-levelcontrol,werecommendourhigh-levelsisterlibrary:[ObservablePlot](https://observablehq.com/plot).WhereasahistograminD3mightrequire50linesofcode,Plotcandoitinone!Plot’sconciseyetexpressiveAPIletsyoufocusmoreonanalyzingandvisualizingdatainsteadofwebdevelopment.YoucanevencombinePlotandD3forthebestofboth.:::##D3isflexibleBecauseD3hasnooverarching“chart”abstraction,evenabasicchartmayrequireafewdozenlinesofcode.Ontheupside,allthepiecesarelaidoutinfrontofyouandyouhavecompletecontroloverwhathappens.Youcantailorthevisualizationtoachieveexactlywhatyouwant.D3hasnodefaultpresentationofyourdata—there’sjustthecodeyouwriteyourself.(Orcopyfromanexample.)ConsiderD3analternativeto“doingeverythingyourself”,notanalternativetoahigh-levelchartinglibrary.Ifyouaren’tsatisfiedwithothertoolsandyou’rethinkingofrollingyourownchartsusingSVGorCanvas(orevenWebGL),youmightaswellperuseD3’stoolbox!There’salmostcertainlysomethingherethatwillhelpyoubuildthechartofyourdreamswithoutimposingonyourcreativity.##D3workswiththewebD3doesn’tintroduceanewgraphicalrepresentation;instead,youuseD3directlywithwebstandardssuchasSVGandCanvas.Thename“D3”isshortfor*data-drivendocuments*,where*documents*referstothe[DocumentObjectModel(DOM)](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model)standardthatrepresentsthecontentsofawebpage.WhilesomeofD3’smodules(suchas[selections](./d3-selection.md)and[transitions](./d3-selection.md))touchtheDOM,others(including[scales](./d3-scale.md)and[shapes](./d3-shape.md))onlyoperateondata.D3canalsobepairedwithwebframeworkssuchasReact,Vue,andSvelte;seethe[gettingstartedguide](./getting-started.md)forrecommendations.D3’sembraceofwebstandardsbringsmanybenefits.Forexample,youcanuseexternalstylesheetstoaltertheappearanceofcharts(eveninresponsetomediaqueries,sayforresponsivechartsordarkmode);youcanusethedebuggerandelementinspectortoreviewwhatyourcodeisdoing;andD3’ssynchronous,imperativeevaluationmodel—calling[*selection*.attr](./d3-selection/modifying.md#selection_attr)immediatelymutatestheDOM—canmakeiteasiertodebugthanframeworkswithcomplexasynchronousruntimes.##D3isforbespokevisualizationD3makesthingspossible,notnecessarilyeasy;evensimplethingsthatshouldbeeasyareoftennot.ToparaphraseAmandaCox:“UseD3ifyouthinkit’sperfectlynormaltowriteahundredlinesofcodeforabarchart.”Ifyouneedmaximalexpressivenessforyourbespokevisualization,youshouldconsiderD3.D3makessenseformediaorganizationssuchas*TheNewYorkTimes*or*ThePudding*,whereasinglegraphicmaybeseenbyamillionreaders,andwhereateamofeditorscanworktogethertoadvancethestateoftheartinvisualcommunication.Ontheotherhand,D3isoverkillforthrowingtogetheraprivatedashboardoraone-offanalysis.Don’tgetseducedbywhizbangexamples:manyofthemtookanimmenseefforttoimplement!Ifyou’reconstrainedbytime(andwhoisn’t?),you’dlikelyproduceabettervisualizationoranalysiswith[ObservablePlot](https://observablehq.com/plot).##D3isfordynamicvisualizationD3’smostnovelconceptisits[datajoin](./d3-selection/joining.md):givenasetofdataandasetofDOMelements,thedatajoinallowsyoutoapplyseparateoperationsfor*entering*,*updating*,and*exiting*elements.Ifyou’reonlycreatingstaticcharts(chartsthatdon’tanimateorrespondtouserinput),youmayfindthisconceptunintuitiveorevenbizarrebecauseit’snotneeded.Thedatajoinexistssothatyoucancontrol*exactly*whathappenswhenyourdatachangesandupdatethedisplayinresponse.Thisdirectcontrolallowsextremelyperformantupdates—youonlytouchtheelementsandattributesthatneedchanging,withoutdiffingtheDOM—andsmoothanimatedtransitionsbetweenstates.D3shinesfordynamic,interactivevisualizations.(Tryoption-clickingthestatetogglesin[“512PathstotheWhiteHouse”](https://archive.nytimes.com/www.nytimes.com/interactive/2012/11/02/us/politics/paths-to-the-white-house.html)from2012.Really.)