<scriptsetup>importExampleArcsfrom"../components/ExampleArcs.vue";import{ref}from"vue";constcornerRadius=ref(18);constpadAngle=ref(0.03);constpadRadius=ref(200);</script>#ArcsThearcgeneratorproducesa[circular](https://en.wikipedia.org/wiki/Circular_sector)or[annular](https://en.wikipedia.org/wiki/Annulus_(mathematics))sector,asina[pie](https://observablehq.com/@d3/pie-chart/2?intent=fork)or[donut](https://observablehq.com/@d3/donut-chart/2?intent=fork)chart.Arcsarecenteredattheorigin;usea[transform](http://www.w3.org/TR/SVG/coords.html#TransformAttribute)tomovethearctoadifferentposition.```jssvg.append("path").attr("transform","translate(100,100)").attr("d",d3.arc()({innerRadius:100,outerRadius:200,startAngle:-Math.PI/2,endAngle:Math.PI/2}));```Iftheabsolutedifferencebetweenthe[start](#arc_startAngle)and[end](#arc_endAngle)angles(the*angularspan*)isgreaterthan2π,thearcgeneratorwillproduceacompletecircleorannulus.Ifitislessthan2π,thearc’sangularlengthwillbeequaltotheabsolutedifferencebetweenthetwoangles(goingclockwiseifthesigneddifferenceispositiveandanticlockwiseifitisnegative).Iftheabsolutedifferenceislessthan2π,thearcmayhave[roundedcorners](#arc_cornerRadius)and[angularpadding](#arc_padAngle).Seealsothe[piegenerator](./pie.md),whichcomputesthenecessaryanglestorepresentanarrayofdataasapieordonutchart;theseanglescanthenbepassedtoanarcgenerator.##arc(){#arc}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·Constructsanewarcgeneratorwiththedefaultsettings.Withdefaultsettings:```jsconstarc=d3.arc();```Or,withtheradiiandanglesconfiguredasconstants:```jsconstarc=d3.arc().innerRadius(0).outerRadius(100).startAngle(0).endAngle(Math.PI/2);```##*arc*(...*arguments*){#_arc}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·Generatesanarcforthegiven*arguments*.The*arguments*arearbitrary;theyarepropagatedtothearcgenerator’saccessorfunctionsalongwiththe`this`object.Forexample,withthedefaultsettings,anobjectwithradiiandanglesisexpected:```jsconstarc=d3.arc();arc({innerRadius:0,outerRadius:100,startAngle:0,endAngle:Math.PI/2});//"M0,-100A100,100,0,0,1,100,0L0,0Z"```Iftheradiiandanglesareinsteaddefinedasconstants,youcangenerateanarcwithoutanyarguments:```jsd3.arc().innerRadius(0).outerRadius(100).startAngle(0).endAngle(Math.PI/2)();//"M0,-100A100,100,0,0,1,100,0L0,0Z"```Ifthearcgeneratorhasa[context](#arc_context),thenthearcisrenderedtothiscontextasasequenceof[pathmethod](http://www.w3.org/TR/2dcontext/#canvaspathmethods)callsandthisfunctionreturnsvoid.Otherwise,a[pathdata](http://www.w3.org/TR/SVG/paths.html#PathData)stringisreturned.##*arc*.centroid(...*arguments*){#arc_centroid}[Examples](https://observablehq.com/@d3/pie-settings)·[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·Computesthemidpoint[*x*,*y*]ofthecenterlineofthearcthatwouldbe[generated](#_arc)bythegiven*arguments*.The*arguments*arearbitrary;theyarepropagatedtothearcgenerator’saccessorfunctionsalongwiththe`this`object.Tobeconsistentwiththegeneratedarc,theaccessorsmustbedeterministic,*i.e.*,returnthesamevaluegiventhesamearguments.Themidpointisdefinedas([startAngle](#arc_startAngle)+[endAngle](#arc_endAngle))/2and([innerRadius](#arc_innerRadius)+[outerRadius](#arc_outerRadius))/2.Forexample:Notethatthisis**notthegeometriccenter**ofthearc,whichmaybeoutsidethearc;thismethodismerelyaconvenienceforpositioninglabels.##*arc*.innerRadius(*radius*){#arc_innerRadius}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*radius*isspecified,setstheinnerradiustothespecifiedfunctionornumberandreturnsthisarcgenerator.```jsconstarc=d3.arc().innerRadius(40);```If*radius*isnotspecified,returnsthecurrentinnerradiusaccessor.```jsarc.innerRadius()//()=>40```Theinnerradiusaccessordefaultsto:```jsfunctioninnerRadius(d){returnd.innerRadius;}```Specifyingtheinnerradiusasafunctionisusefulforconstructingastackedpolarbarchart,ofteninconjunctionwitha[sqrtscale](../d3-scale/pow.md).Morecommonly,aconstantinnerradiusisusedforadonutorpiechart.Iftheouterradiusissmallerthantheinnerradius,theinnerandouterradiiareswapped.Anegativevalueistreatedaszero.##*arc*.outerRadius(*radius*){#arc_outerRadius}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*radius*isspecified,setstheouterradiustothespecifiedfunctionornumberandreturnsthisarcgenerator.```jsconstarc=d3.arc().outerRadius(240);```If*radius*isnotspecified,returnsthecurrentouterradiusaccessor.```jsarc.outerRadius()//()=>240```Theouterradiusaccessordefaultsto:```jsfunctionouterRadius(d){returnd.outerRadius;}```Specifyingtheouterradiusasafunctionisusefulforconstructingacoxcomborpolarbarchart,ofteninconjunctionwitha[sqrtscale](../d3-scale/pow.md).Morecommonly,aconstantouterradiusisusedforapieordonutchart.Iftheouterradiusissmallerthantheinnerradius,theinnerandouterradiiareswapped.Anegativevalueistreatedaszero.##*arc*.cornerRadius(*radius*){#arc_cornerRadius}<p><labelclass="label-input"><span>Cornerradius:</span><inputtype="range"v-model.number="cornerRadius"min="0"max="80"step="1"><spanstyle="font-variant-numeric:tabular-nums;">{{cornerRadius.toFixed(0)}}</span></label></p><ExampleArcs:cornerRadius="cornerRadius"/>[Examples](https://observablehq.com/@d3/pie-settings)·[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*radius*isspecified,setsthecornerradiustothespecifiedfunctionornumberandreturnsthisarcgenerator.```js-vueconstarc=d3.arc().cornerRadius({{cornerRadius}});```If*radius*isnotspecified,returnsthecurrentcornerradiusaccessor.```js-vuearc.cornerRadius()//()=>{{cornerRadius}}```Thecornerradiusaccessordefaultsto:```jsfunctioncornerRadius(){return0;}```Ifthecornerradiusisgreaterthanzero,thecornersofthearcareroundedusingcirclesofthegivenradius.Foracircularsector,thetwooutercornersarerounded;foranannularsector,allfourcornersarerounded.Thecornerradiusmaynotbelargerthan([outerRadius](#arc_outerRadius)-[innerRadius](#arc_innerRadius))/2.Inaddition,forarcswhoseangularspanislessthanπ,thecornerradiusmaybereducedastwoadjacentroundedcornersintersect.Thisisoccursmoreoftenwiththeinnercorners.Seethe[arccornersanimation](https://observablehq.com/@d3/arc-corners)forillustration.##*arc*.startAngle(*angle*){#arc_startAngle}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*angle*isspecified,setsthestartangletothespecifiedfunctionornumberinradiusandreturnsthisarcgenerator.```jsconstarc=d3.arc().startAngle(Math.PI/4);```If*angle*isnotspecified,returnsthecurrentstartangleaccessor.```jsarc.startAngle()//()=>0.7853981633974483```Thestartangleaccessordefaultsto:```jsfunctionstartAngle(d){returnd.startAngle;}```The*angle*isspecifiedinradians,with0at-*y*(12o’clock)andpositiveanglesproceedingclockwise.If|endAngle-startAngle|≥2π,acompletecircleorannulusisgeneratedratherthanasector.##*arc*.endAngle(*angle*){#arc_endAngle}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*angle*isspecified,setstheendangletothespecifiedfunctionornumberandreturnsthisarcgenerator.```jsconstarc=d3.arc().endAngle(Math.PI);```If*angle*isnotspecified,returnsthecurrentendangleaccessor.```jsarc.endAngle()//()=>3.141592653589793```Theendangleaccessordefaultsto:```jsfunctionendAngle(d){returnd.endAngle;}```The*angle*isspecifiedinradians,with0at-*y*(12o’clock)andpositiveanglesproceedingclockwise.If|endAngle-startAngle|≥2π,acompletecircleorannulusisgeneratedratherthanasector.##*arc*.padAngle(*angle*){#arc_padAngle}<p><labelclass="label-input"><span>Padangle:</span><inputtype="range"v-model.number="padAngle"min="0"max="0.1"step="0.001"><spanstyle="font-variant-numeric:tabular-nums;">{{padAngle.toFixed(3)}}</span></label></p><ExampleArcs:padAngle="padAngle"/>[Examples](https://observablehq.com/@d3/pie-settings)·[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*angle*isspecified,setsthepadangletothespecifiedfunctionornumberandreturnsthisarcgenerator.```jsconstarc=d3.arc().padAngle(0);```If*angle*isnotspecified,returnsthecurrentpadangleaccessor.```jsarc.padAngle()//()=>0```Thepadangleaccessordefaultsto:```jsfunctionpadAngle(){returnd&&d.padAngle;}```Thepadangleisconvertedtoafixedlineardistanceseparatingadjacentarcs,definedas[padRadius](#arc_padRadius)×padAngle.Thisdistanceissubtractedequallyfromthe[start](#arc_startAngle)and[end](#arc_endAngle)ofthearc.Ifthearcformsacompletecircleorannulus,aswhen|endAngle-startAngle|≥2π,thepadangleisignored.Ifthe[innerradius](#arc_innerRadius)orangularspanissmallrelativetothepadangle,itmaynotbepossibletomaintainparalleledgesbetweenadjacentarcs.Inthiscase,theinneredgeofthearcmaycollapsetoapoint,similartoacircularsector.Forthisreason,paddingistypicallyonlyappliedtoannularsectors(*i.e.*,wheninnerRadiusispositive),asshowninthisdiagram:TherecommendedminimuminnerradiuswhenusingpaddingisouterRadius\*padAngle/sin(θ),whereθistheangularspanofthesmallestarcbeforepadding.Forexample,iftheouterradiusis200pixelsandthepadangleis0.02radians,areasonableθis0.04radians,andareasonableinnerradiusis100pixels.Seethe[arcpaddinganimation](https://observablehq.com/@d3/arc-pad-angle)forillustration.Often,thepadangleisnotsetdirectlyonthearcgenerator,butisinsteadcomputedbythe[piegenerator](./pie.md)soastoensurethattheareaofpaddedarcsisproportionaltotheirvalue;see[*pie*.padAngle](./pie.md#pie_padAngle).Seethe[piepaddinganimation](https://observablehq.com/@d3/arc-pad-angle)forillustration.Ifyouapplyaconstantpadangletothearcgeneratordirectly,ittendstosubtractdisproportionatelyfromsmallerarcs,introducingdistortion.##*arc*.padRadius(*radius*){#arc_padRadius}<p><labelclass="label-input"><span>Padradius:</span><inputtype="range"v-model.number="padRadius"min="0"max="400"step="1"><spanstyle="font-variant-numeric:tabular-nums;">{{padRadius.toFixed()}}</span></label></p><ExampleArcs:padAngle="0.05":padRadius="padRadius"/>[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*radius*isspecified,setsthepadradiustothespecifiedfunctionornumberandreturnsthisarcgenerator.If*radius*isnotspecified,returnsthecurrentpadradiusaccessor,whichdefaultstonull,indicatingthatthepadradiusshouldbeautomaticallycomputedassqrt([innerRadius](#arc_innerRadius)×innerRadius+[outerRadius](#arc_outerRadius)×outerRadius).Thepadradiusdeterminesthefixedlineardistanceseparatingadjacentarcs,definedaspadRadius×[padAngle](#arc_padAngle).##*arc*.context(*context*){#arc_context}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*context*isspecified,setsthecontextandreturnsthisarcgenerator.```jsconstcontext=canvas.getContext("2d");constarc=d3.arc().context(context);```If*context*isnotspecified,returnsthecurrentcontext,whichdefaultstonull.```jsarc.context()//context```Ifthecontextisnotnull,thenthe[generatedarc](#_arc)isrenderedtothiscontextasasequenceof[pathmethod](http://www.w3.org/TR/2dcontext/#canvaspathmethods)calls.Otherwise,a[pathdata](http://www.w3.org/TR/SVG/paths.html#PathData)stringrepresentingthegeneratedarcisreturned.##*arc*.digits(*digits*){#arc_digits}[Source](https://github.com/d3/d3-shape/blob/main/src/arc.js)·If*digits*isspecified,setsthemaximumnumberofdigitsafterthedecimalseparatorandreturnsthisarcgenerator.```jsconstarc=d3.arc().digits(3);```If*digits*isnotspecified,returnsthecurrentmaximumfractiondigits,whichdefaultsto3.```jsarc.digits()//3```Thisoptiononlyapplieswhentheassociated[*context*](#arc_context)isnull,aswhenthisarcgeneratorisusedtoproduce[pathdata](http://www.w3.org/TR/SVG/paths.html#PathData).