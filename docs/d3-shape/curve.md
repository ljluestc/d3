<scriptsetup>import{ref}from"vue";importExampleCurvefrom"../components/ExampleCurve.vue";constalpha=ref(0.5);constbeta=ref(0.85);consttension=ref(0);constticks=[0,0.25,0.5,0.75,1];</script>#CurvesCurvesturnadiscrete(pointwise)representationofa[line](./line.md)or[area](./area.md)intoacontinuousshape:curvesspecifyhowtointerpolatebetweentwo-dimensional[*x*,*y*]points.Curvesaretypicallynotconstructedoruseddirectly.Instead,oneofthebuilt-incurvesisbeingpassedto[*line*.curve](./line.md#line_curve)or[*area*.curve](./area.md#area_curve).```jsconstline=d3.line().x((d)=>x(d.date)).y((d)=>y(d.value)).curve(d3.curveCatmullRom.alpha(0.5));```Ifdesired,youcanimplementa[customcurve](#custom-curves).Foranexampleofusingacurvedirectly,see[ContexttoCurve](https://observablehq.com/@d3/context-to-curve).##*curveBasis*(*context*){#curveBasis}<ExampleCurve:curves='[{curve:"basis"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/basis.js)·Producesacubic[basisspline](https://en.wikipedia.org/wiki/B-spline)usingthespecifiedcontrolpoints.Thefirstandlastpointsaretriplicatedsuchthatthesplinestartsatthefirstpointandendsatthelastpoint,andistangenttothelinebetweenthefirstandsecondpoints,andtothelinebetweenthepenultimateandlastpoints.##*curveBasisClosed*(*context*){#curveBasisClosed}<ExampleCurve:curves='[{curve:"basis-closed"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/basisClosed.js)·Producesaclosedcubic[basisspline](https://en.wikipedia.org/wiki/B-spline)usingthespecifiedcontrolpoints.Whenalinesegmentends,thefirstthreecontrolpointsarerepeated,producingaclosedloop withC2continuity.##*curveBasisOpen*(*context*){#curveBasisOpen}<ExampleCurve:curves='[{curve:"basis-open"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/basisOpen.js)·Producesacubic[basisspline](https://en.wikipedia.org/wiki/B-spline)usingthespecifiedcontrolpoints.Unlike[basis](#curveBasis),thefirstandlastpointsarenotrepeated,andthusthecurvetypicallydoesnotintersectthesepoints.##*curveBumpX*(*context*){#curveBumpX}<ExampleCurve:curves='[{curve:"bump-x"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/bump.js)·ProducesaBéziercurvebetweeneachpairofpoints,withhorizontaltangentsateachpoint.##*curveBumpY*(*context*){#curveBumpY}<ExampleCurve:curves='[{curve:"bump-y"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/bump.js)·ProducesaBéziercurvebetweeneachpairofpoints,withverticaltangentsateachpoint.##*curveBundle*(*context*){#curveBundle}<ExampleCurvelabel="beta":curves='ticks.map((t)=>({curve:"bundle",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/bundle.js)·Producesastraightenedcubic[basisspline](https://en.wikipedia.org/wiki/B-spline)usingthespecifiedcontrolpoints,withthesplinestraightenedaccordingtothecurve’s[*beta*](#curveBundle_beta),whichdefaultsto0.85.Thiscurveistypicallyusedin[hierarchicaledgebundling](https://observablehq.com/@d3/hierarchical-edge-bundling)todisambiguateconnections,asproposedby[DannyHolten](https://www.win.tue.nl/vis1/home/dholten/)in[HierarchicalEdgeBundles:VisualizationofAdjacencyRelationsinHierarchicalData](https://www.win.tue.nl/vis1/home/dholten/papers/bundles_infovis.pdf).Thiscurvedoesnotimplement[*curve*.areaStart](#curve_areaStart)and[*curve*.areaEnd](#curve_areaEnd);itisintendedtoworkwith[d3.line](./line.md),not[d3.area](./area.md).##curveBundle.beta(*beta*){#curveBundle_beta}<p><labelclass="label-input"><span>Beta:</span><inputtype="range"v-model.number="beta"min="0"max="1"step="0.01"><spanstyle="font-variant-numeric:tabular-nums;">{{beta.toFixed(2)}}</span></label></p><ExampleCurve:curves='[{curve:"bundle",tension:beta}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/bundle.js)·Returnsabundlecurvewiththespecified*beta*intherange[0,1],representingthebundlestrength.If*beta*equalszero,astraightlinebetweenthefirstandlastpointisproduced;if*beta*equalsone,astandard[basis](#curveBasis)splineisproduced.Forexample:```jsconstline=d3.line().curve(d3.curveBundle.beta(0.5));```##*curveCardinal*(*context*){#curveCardinal}<ExampleCurvelabel="tension":curves='ticks.map((t)=>({curve:"cardinal",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/cardinal.js)·Producesacubic[cardinalspline](https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Cardinal_spline)usingthespecifiedcontrolpoints,withone-sideddifferencesusedforthefirstandlastpiece.Thedefault[tension](#curveCardinal_tension)is0.##*curveCardinalClosed*(*context*){#curveCardinalClosed}<ExampleCurvelabel="tension":curves='ticks.map((t)=>({curve:"cardinal-closed",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/cardinalClosed.js)·Producesaclosedcubic[cardinalspline](https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Cardinal_spline)usingthespecifiedcontrolpoints.Whenalinesegmentends,thefirstthreecontrolpointsarerepeated,producingaclosedloop.Thedefault[tension](#curveCardinal_tension)is0.##*curveCardinalOpen*(*context*){#curveCardinalOpen}<ExampleCurvelabel="tension":curves='ticks.map((t)=>({curve:"cardinal-open",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/cardinalOpen.js)·Producesacubic[cardinalspline](https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Cardinal_spline)usingthespecifiedcontrolpoints.Unlike[curveCardinal](#curveCardinal),one-sideddifferencesarenotusedforthefirstandlastpiece,andthusthecurvestartsatthesecondpointandendsatthepenultimatepoint.Thedefault[tension](#curveCardinal_tension)is0.##curveCardinal.tension(*tension*){#curveCardinal_tension}<p><labelclass="label-input"><span>Tension:</span><inputtype="range"v-model.number="tension"min="0"max="1"step="0.01"><spanstyle="font-variant-numeric:tabular-nums;">{{tension.toFixed(2)}}</span></label></p><ExampleCurve:curves='[{curve:"cardinal",tension}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/cardinalOpen.js)·Returnsacardinalcurvewiththespecified*tension*intherange[0,1].The*tension*determinesthelengthofthetangents:a*tension*ofoneyieldsallzerotangents,equivalentto[curveLinear](#curveLinear);a*tension*ofzeroproducesauniform[Catmull–Rom](#curveCatmullRom)spline.Forexample:```jsconstline=d3.line().curve(d3.curveCardinal.tension(0.5));```##*curveCatmullRom*(*context*){#curveCatmullRom}<ExampleCurvelabel="alpha":curves='ticks.map((t)=>({curve:"catmull-rom",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/catmullRom.js)·ProducesacubicCatmull–Romsplineusingthespecifiedcontrolpointsandtheparameter[*alpha*](#curveCatmullRom_alpha),whichdefaultsto0.5,asproposedbyYukseletal.in[OntheParameterizationofCatmull–RomCurves](http://www.cemyuksel.com/research/catmullrom_param/),withone-sideddifferencesusedforthefirstandlastpiece.##*curveCatmullRomClosed*(*context*){#curveCatmullRomClosed}<ExampleCurvelabel="alpha":curves='ticks.map((t)=>({curve:"catmull-rom-closed",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/catmullRomClosed.js)·ProducesaclosedcubicCatmull–Romsplineusingthespecifiedcontrolpointsandtheparameter[*alpha*](#curveCatmullRom_alpha),whichdefaultsto0.5,asproposedbyYukseletal.Whenalinesegmentends,thefirstthreecontrolpointsarerepeated,producingaclosedloop.##*curveCatmullRomOpen*(*context*){#curveCatmullRomOpen}<ExampleCurvelabel="alpha":curves='ticks.map((t)=>({curve:"catmull-rom-open",tension:t}))'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/catmullRomOpen.js)·ProducesacubicCatmull–Romsplineusingthespecifiedcontrolpointsandtheparameter[*alpha*](#curveCatmullRom_alpha),whichdefaultsto0.5,asproposedbyYukseletal.Unlike[curveCatmullRom](#curveCatmullRom),one-sideddifferencesarenotusedforthefirstandlastpiece,andthusthecurvestartsatthesecondpointandendsatthepenultimatepoint.##curveCatmullRom.alpha(*alpha*){#curveCatmullRom_alpha}<p><labelclass="label-input"><span>Alpha:</span><inputtype="range"v-model.number="alpha"min="0"max="1"step="0.01"><spanstyle="font-variant-numeric:tabular-nums;">{{alpha.toFixed(2)}}</span></label></p><ExampleCurve:curves='[{curve:"catmull-rom",tension:alpha}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/catmullRom.js)·ReturnsacubicCatmull–Romcurvewiththespecified*alpha*intherange[0,1].If*alpha*iszero,producesauniformspline,equivalentto[curveCardinal](#curveCardinal)withatensionofzero;if*alpha*isone,producesachordalspline;if*alpha*is0.5,producesa[centripetalspline](https://en.wikipedia.org/wiki/Centripetal_Catmull–Rom_spline).Centripetalsplinesarerecommendedtoavoidself-intersectionsandovershoot.Forexample:```jsconstline=d3.line().curve(d3.curveCatmullRom.alpha(0.5));```##*curveLinear*(*context*){#curveLinear}<ExampleCurve:curves='[{curve:"linear"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/linear.js)·Producesapolylinethroughthespecifiedpoints.##*curveLinearClosed*(*context*){#curveLinearClosed}<ExampleCurve:curves='[{curve:"linear-closed"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/linearClosed.js)·Producesaclosedpolylinethroughthespecifiedpointsbyrepeatingthefirstpointwhenthelinesegmentends.##*curveMonotoneX*(*context*){#curveMonotoneX}<ExampleCurve:curves='[{curve:"monotone-x"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/monotone.js)·Producesacubicsplinethat[preservesmonotonicity](https://en.wikipedia.org/wiki/Monotone_cubic_interpolation)in*y*,assumingmonotonicityin*x*,asproposedbySteffenin[Asimplemethodformonotonicinterpolationinonedimension](http://adsabs.harvard.edu/full/1990A%26A...239..443S):“asmoothcurvewithcontinuousfirst-orderderivativesthatpassesthroughanygivensetofdatapointswithoutspuriousoscillations.Localextremacanoccuronlyatgridpointswheretheyaregivenbythedata,butnotinbetweentwoadjacentgridpoints.”##*curveMonotoneY*(*context*){#curveMonotoneY}<ExampleCurve:points='[[100,200],[340,200],[460,160],[460,120],[420,80],[580,40],[820,40]]':curves='[{curve:"monotone-y"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/monotone.js)·Producesacubicsplinethat[preservesmonotonicity](https://en.wikipedia.org/wiki/Monotone_cubic_interpolation)in*x*,assumingmonotonicityin*y*,asproposedbySteffenin[Asimplemethodformonotonicinterpolationinonedimension](http://adsabs.harvard.edu/full/1990A%26A...239..443S):“asmoothcurvewithcontinuousfirst-orderderivativesthatpassesthroughanygivensetofdatapointswithoutspuriousoscillations.Localextremacanoccuronlyatgridpointswheretheyaregivenbythedata,butnotinbetweentwoadjacentgridpoints.”##*curveNatural*(*context*){#curveNatural}<ExampleCurve:curves='[{curve:"natural"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/natural.js)·Producesa[natural](https://en.wikipedia.org/wiki/Spline_interpolation)[cubicspline](http://mathworld.wolfram.com/CubicSpline.html)withthesecondderivativeofthesplinesettozeroattheendpoints.##*curveStep*(*context*){#curveStep}<ExampleCurve:curves='[{curve:"step"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/step.js)·Producesapiecewiseconstantfunction(a[stepfunction](https://en.wikipedia.org/wiki/Step_function))consistingofalternatinghorizontalandverticallines.The*y*-valuechangesatthemidpointofeachpairofadjacent*x*-values.##*curveStepAfter*(*context*){#curveStepAfter}<ExampleCurve:curves='[{curve:"step-after"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/step.js)·Producesapiecewiseconstantfunction(a[stepfunction](https://en.wikipedia.org/wiki/Step_function))consistingofalternatinghorizontalandverticallines.The*y*-valuechangesafterthe*x*-value.##*curveStepBefore*(*context*){#curveStepBefore}<ExampleCurve:curves='[{curve:"step-before"}]'/>[Source](https://github.com/d3/d3-shape/blob/main/src/curve/step.js)·Producesapiecewiseconstantfunction(a[stepfunction](https://en.wikipedia.org/wiki/Step_function))consistingofalternatinghorizontalandverticallines.The*y*-valuechangesbeforethe*x*-value.##CustomcurvesCurvesaretypicallynotuseddirectly,insteadbeingpassedto[*line*.curve](./line.md#line_curve)and[*area*.curve](./area.md#area_curve).However,youcandefineyourowncurveimplementationshouldnoneofthebuilt-incurvessatisfyyourneedsusingthefollowinginterface;seethe[curveLinearsource](https://github.com/d3/d3-shape/blob/main/src/curve/linear.js)foranexampleimplementation.Youcanalsousethislow-levelinterfacewithabuilt-incurvetypeasanalternativetothelineandareagenerators.###*curve*.areaStart(){#curve_areaStart}Indicatesthestartofanewareasegment.Eachareasegmentconsistsofexactlytwo[linesegments](#curve_lineStart):thetopline,followedbythebaseline,withthebaselinepointsinreverseorder.###*curve*.areaEnd(){#curve_areaEnd}Indicatestheendofthecurrentareasegment.###*curve*.lineStart(){#curve_lineStart}Indicatesthestartofanewlinesegment.Zeroormore[points](#curve_point)willfollow.###*curve*.lineEnd(){#curve_lineEnd}Indicatestheendofthecurrentlinesegment.###*curve*.point(*x*,*y*){#curve_point}Indicatesanewpointinthecurrentlinesegmentwiththegiven*x*-and*y*-values.