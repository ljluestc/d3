#d3-geoMapprojectionsaresometimesimplementedaspointtransformations:afunctionthattakesagivenlongitude*lambda*andlatitude*phi*,andreturnsthecorresponding*xy*positionontheplane.Forinstance,hereisthesphericalMercatorprojection(inradians):```jsfunctionmercator(lambda,phi){constx=lambda;consty=Math.log(Math.tan(Math.PI/4+phi/2));return[x,y];}```Thisisareasonableapproachifyourgeometryconsistsonlyofpoints.Butwhataboutdiscretegeometrysuchaspolygonsandpolylines?Discretegeometryintroducesnewchallengeswhenprojectingfromthespheretotheplane.Theedgesofasphericalpolygonare[geodesics](https://en.wikipedia.org/wiki/Geodesic)(segmentsofgreatcircles),notstraightlines.Geodesicsbecomecurvesinallmapprojectionsexcept[gnomonic](./d3-geo/azimuthal.md#geoGnomonic),andthusaccurateprojectionrequiresinterpolationalongeacharc.D3uses[adaptivesampling](https://observablehq.com/@d3/adaptive-sampling)inspiredby[Visvalingam’slinesimplificationmethod](https://bost.ocks.org/mike/simplify/)tobalanceaccuracyandperformance.Theprojectionofpolygonsandpolylinesmustalsodealwiththetopologicaldifferencesbetweenthesphereandtheplane.Someprojectionsrequirecuttinggeometrythat[crossestheantimeridian](https://observablehq.com/@d3/antimeridian-cutting),whileothersrequire[clippinggeometrytoagreatcircle](https://observablehq.com/@d3/orthographic-shading).Sphericalpolygonsalsorequirea[windingorderconvention](https://observablehq.com/@d3/winding-order)todeterminewhichsideofthepolygonistheinside:theexteriorringforpolygonssmallerthanahemispheremustbeclockwise,whiletheexteriorringforpolygons[largerthanahemisphere](https://observablehq.com/@d3/oceans)mustbeanticlockwise.Interiorringsrepresentingholesmustusetheoppositewindingorderoftheirexteriorring.<!--Formore,seePart2of[TheToolmaker’sGuide](https://vimeo.com/106198518#t=20m0s).-->D3usesspherical[GeoJSON](http://geojson.org/geojson-spec.html)torepresentgeographicfeaturesinJavaScript.D3supportsawidevarietyof[common](./d3-geo/projection.md)and[unusual](https://github.com/d3/d3-geo-projection)mapprojections.AndbecauseD3usessphericalgeometrytorepresentdata,youcanapplyanyaspecttoanyprojectionbyrotatinggeometry.Seeoneof:-[Paths](./d3-geo/path.md)-generateSVGpathdatafromGeoJSON-[Projections](./d3-geo/projection.md)-projectsphericalgeometrytotheplane-[Streams](./d3-geo/stream.md)-transform(eithersphericalorplanar)geometry-[Shapes](./d3-geo/shape.md)-generatecircles,lines,andothersphericalgeometry-[Sphericalmath](./d3-geo/math.md)-low-levelmethodsforsphericalgeometry:::tipToconvertshapefilestoGeoJSON,use[shp2json](https://github.com/mbostock/shapefile/blob/main/README.md#shp2json),partofthe[shapefilepackage](https://github.com/mbostock/shapefile).See[Command-LineCartography](https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c)foranintroductiontod3-geoandrelatedtools.Seealso[TopoJSON](https://github.com/topojson),anextensionofGeoJSONthatissignificantlymorecompactandencodestopology.::::::warningCAUTIOND3’swindingorderconventionisalsousedby[TopoJSON](https://github.com/topojson)and[ESRIshapefiles](https://github.com/mbostock/shapefile);however,itistheoppositeconventionofGeoJSON’s[RFC7946](https://tools.ietf.org/html/rfc7946#section-3.1.6).AlsonotethatstandardGeoJSONWGS84usesplanarequirectangularcoordinates,notsphericalcoordinates,andthusmayrequire[stitching](https://github.com/d3/d3-geo-projection/blob/main/README.md#geostitch)toremoveantimeridiancuts.:::