<scriptsetup>import*asPlotfrom"@observablehq/plot";import*asd3from"d3";import{ref}from"vue";importPlotRenderfrom"../components/PlotRender.js";constdomain=ref("a,b,c,d,e,f");constpadding=ref(0.1);constalign=ref(0.5);constround=ref(false);</script>#PointscalesPointscalesareavariantof[bandscales](./band.md)withthebandwidthfixedtozero.Pointscalesaretypicallyusedforscatterplotswithanordinalorcategoricaldimension.##scalePoint(*domain*,*range*){#scalePoint}[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·Constructsanewpointscalewiththespecified[*domain*](#point_domain)and[*range*](#point_range),no[padding](#point_padding),no[rounding](#point_round)andcenter[alignment](#point_align).If*domain*isnotspecified,itdefaultstotheemptydomain.If*range*isnotspecified,itdefaultstotheunitrange[0,1].##*point*(*value*){#_point}[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·Givena*value*intheinput[domain](#point_domain),returnsthecorrespondingpointderivedfromtheoutput[range](#point_range).```jsconstx=d3.scalePoint(["a","b","c"],[0,960]);x("a");//0x("b");//480x("c");//960x("d");//undefined```Ifthegiven*value*isnotinthescale’sdomain,returnsundefined.##*point*.domain(*domain*){#point_domain}<p><labelclass="label-input">Domain:<inputtype="text"v-model="domain"></label></p><PlotRender:options='{grid:true,marginTop:0.5,x:{padding:0.1,domain:d3.csvParseRows(domain).flat()},marks:[Plot.frame({strokeOpacity:0.3}),Plot.tickX(d3.csvParseRows(domain).flat(),{x:Plot.identity,stroke:"currentColor"})]}'/>[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·If*domain*isspecified,setsthedomaintothespecifiedarrayofvalues.```js-vueconstx=d3.scalePoint([0,960]).domain([{{d3.csvParseRows(domain).flat().map(JSON.stringify).join(",")}}]);```Thefirstelementin*domain*willbemappedtothefirstpoint,theseconddomainvaluetothesecondpoint,andsoon.Domainvaluesarestoredinternallyinan[InternMap](../d3-array/intern.md)fromprimitivevaluetoindex;theresultingindexisthenusedtodeterminethepoint.Thus,apointscale’svaluesmustbecoercibletoaprimitivevalue,andtheprimitivedomainvalueuniquelyidentifiesthecorrespondingpoint.If*domain*isnotspecified,thismethodreturnsthecurrentdomain.##*point*.range(*range*){#point_range}[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·If*range*isspecified,setsthescale’srangetothespecifiedtwo-elementarrayofnumbersandreturnsthisscale.```jsconstx=d3.scalePoint().range([0,960]);```Iftheelementsinthegivenarrayarenotnumbers,theywillbecoercedtonumbers.If*range*isnotspecified,returnsthescale’scurrentrange,whichdefaultsto[0,1].##*point*.rangeRound(*range*){#point_rangeRound}[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·Setsthescale’s[*range*](#point_range)tothespecifiedtwo-elementarrayofnumberswhilealsoenabling[rounding](#point_round);returnsthisscale.```jsconstx=d3.scalePoint().rangeRound([0,960]);```Thisisaconveniencemethodequivalentto:```jspoint.range(range).round(true)```Roundingissometimesusefulforavoidingantialiasingartifacts,thoughalsoconsiderthe[shape-rendering](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering)“crispEdges”styles.##*point*.round(*round*){#point_round}<p><labelclass="label-input">Round:<inputtype="checkbox"v-model="round"></label></p><PlotRender:options='{grid:true,marginTop:0.5,x:{padding:0.2,round},marks:[Plot.frame({strokeOpacity:0.3}),Plot.tickX("abcdefghij",{x:Plot.identity,stroke:"currentColor"})]}'/>[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·If*round*isspecified,enablesordisablesroundingaccordingly.```js-vueconstx=d3.scalePoint(["a","b","c"],[0,960]).round({{round}});```If*round*isnotspecified,returnswhetherroundingisenabled.```js-vuex.round()//{{round}}```Ifroundingisenabled,thepositionofeachpointwillbeintegers.Roundingissometimesusefulforavoidingantialiasingartifacts,thoughalsoconsiderthe[shape-rendering](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering)“crispEdges”styles.Notethatifthewidthofthedomainisnotamultipleofthecardinalityoftherange,theremaybeleftoverunusedspace,evenwithoutpadding!Use[*point*.align](#point_align)tospecifyhowtheleftoverspaceisdistributed.##*point*.padding(*padding*){#point_padding}<p><labelclass="label-input"><span>Padding:</span><inputtype="range"v-model.number="padding"min="0"max="1"step="0.01"><spanstyle="font-variant-numeric:tabular-nums;">{{padding.toFixed(2)}}</span></label></p><PlotRender:options='{grid:true,marginTop:0.5,x:{padding,round:false},marks:[Plot.frame({strokeOpacity:0.3}),Plot.tickX("abcdefghij",{x:Plot.identity,stroke:"currentColor"})]}'/>[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·If*padding*isspecified,setstheouterpaddingtothespecifiednumberwhichistypicallyintherange[0,1].```js-vueconstx=d3.scalePoint(["a","b","c"],[0,960]).padding({{padding}});```If*padding*isnotspecified,returnsthecurrentouterpaddingwhichdefaultsto0.```js-vuex.padding()//{{padding}}```Theouterpaddingspecifiestheamountofblankspace,intermsofmultiplesofthe[step](./band.md#band_step),toreservebeforethefirstpointandafterthelastpoint.Equivalentto[*band*.paddingOuter](./band.md#band_paddingOuter).##*point*.align(*align*){#point_align}<p><labelclass="label-input"><span>Align:</span><inputtype="range"v-model.number="align"min="0"max="1"step="0.01"><spanstyle="font-variant-numeric:tabular-nums;">{{align.toFixed(2)}}</span></label></p><PlotRender:options='{grid:true,marginTop:0.5,x:{padding:0.2,align,round:false},marks:[Plot.frame({strokeOpacity:0.3}),Plot.tickX("abcdefghij",{x:Plot.identity,stroke:"currentColor"})]}'/>[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·If*align*isspecified,setsthealignmenttothespecifiedvaluewhichmustbeintherange[0,1].```js-vueconstx=d3.scalePoint(["a","b","c"],[0,960]).align({{align}});```If*align*isnotspecified,returnsthecurrentalignmentwhichdefaultsto0.5.```js-vuex.align()//{{align}}```Thealignmentspecifieshowanyleftoverunusedspaceintherangeisdistributed.Avalueof0.5indicatesthattheleftoverspaceshouldbeequallydistributedbeforethefirstpointandafterthelastpoint;*i.e.*,thepointsshouldbecenteredwithintherange.Avalueof0or1maybeusedtoshiftthepointstooneside,saytopositionthemadjacenttoanaxis.##*point*.bandwidth(){#point_bandwidth}[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·Returnszero.##*point*.step(){#point_step}<PlotRender:options='{grid:true,marginTop:10.5,x:{padding:0.2,round:false},marks:[Plot.frame({strokeOpacity:0.3}),Plot.tickX("abcdefghij",{x:Plot.identity,stroke:"currentColor"}),Plot.dotX(["a"],{stroke:"var(--vp-c-brand)",symbol:{draw(context,size){constx=Plot.scale({x:{type:"point",padding:0.2,round:false,domain:"abcdefghij",range:[20,688-20]}});context.moveTo(6,-22-3);context.lineTo(0,-22);context.lineTo(6,-22+3);context.moveTo(0,-22);context.lineTo(x.step,-22);context.moveTo(x.step-6,-22-3);context.lineTo(x.step,-22);context.lineTo(x.step-6,-22+3);}}})]}'/>[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·Returnsthedistancebetweenadjacentpoints.##*point*.copy(){#point_copy}[Examples](https://observablehq.com/@d3/d3-scalepoint)·[Source](https://github.com/d3/d3-scale/blob/main/src/band.js)·Returnsanexactcopyofthisscale.Changestothisscalewillnotaffectthereturnedscale,andviceversa.