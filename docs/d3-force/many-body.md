#Many-bodyforceThemany-body(or*n*-body)forceappliesmutuallyamongstall[nodes](./simulation.md#simulation_nodes).Itcanbeusedtosimulategravity(attraction)ifthe[strength](#manyBody_strength)ispositive,orelectrostaticcharge(repulsion)ifthestrengthisnegative.Thisimplementationusesaquadtreeandthe[Barnes–Hutapproximation](https://en.wikipedia.org/wiki/Barnes–Hut_simulation)togreatlyimproveperformance;theaccuracycanbecustomizedusingthe[theta](#manyBody_theta)parameter.Unlikethe[linkforce](./link.md),whichonlyaffecttwolinkednodes,thechargeforceisglobal:everynodeaffectseveryothernode,eveniftheyareondisconnectedsubgraphs.##forceManyBody(){#forceManyBody}[Source](https://github.com/d3/d3-force/blob/main/src/manyBody.js)·Createsanewmany-bodyforcewiththedefaultparameters.```jsconstmanyBody=d3.forceManyBody().strength(-100);```##*manyBody*.strength(*strength*){#manyBody_strength}[Source](https://github.com/d3/d3-force/blob/main/src/manyBody.js)·If*strength*isspecified,setsthestrengthaccessortothespecifiednumberorfunction,re-evaluatesthestrengthaccessorforeachnode,andreturnsthisforce.Apositivevaluecausesnodestoattracteachother,similartogravity,whileanegativevaluecausesnodestorepeleachother,similartoelectrostaticcharge.If*strength*isnotspecified,returnsthecurrentstrengthaccessor,whichdefaultsto:```jsfunctionstrength(){return-30;}```Thestrengthaccessorisinvokedforeach[node](./simulation.md#simulation_nodes)inthesimulation,beingpassedthe*node*anditszero-based*index*.Theresultingnumberisthenstoredinternally,suchthatthestrengthofeachnodeisonlyrecomputedwhentheforceisinitializedorwhenthismethodiscalledwithanew*strength*,andnotoneveryapplicationoftheforce.##*manyBody*.theta(*theta*){#manyBody_theta}[Source](https://github.com/d3/d3-force/blob/main/src/manyBody.js)·If*theta*isspecified,setstheBarnes–Hutapproximationcriteriontothespecifiednumberandreturnsthisforce.If*theta*isnotspecified,returnsthecurrentvalue,whichdefaultsto0.9.Toacceleratecomputation,thisforceimplementsthe[Barnes–Hutapproximation](http://en.wikipedia.org/wiki/Barnes–Hut_simulation)whichtakesO(*n*log*n*)perapplicationwhere*n*isthenumberof[nodes](./simulation.md#simulation_nodes).Foreachapplication,a[quadtree](../d3-quadtree.md)storesthecurrentnodepositions;thenforeachnode,thecombinedforceofallothernodesonthegivennodeiscomputed.Foraclusterofnodesthatisfaraway,thechargeforcecanbeapproximatedbytreatingtheclusterasasingle,largernode.The*theta*parameterdeterminestheaccuracyoftheapproximation:iftheratio*w*/*l*ofthewidth*w*ofthequadtreecelltothedistance*l*fromthenodetothecell’scenterofmassislessthan*theta*,allnodesinthegivencellaretreatedasasinglenoderatherthanindividually.##*manyBody*.distanceMin(*distance*){#manyBody_distanceMin}[Source](https://github.com/d3/d3-force/blob/main/src/manyBody.js)·If*distance*isspecified,setstheminimumdistancebetweennodesoverwhichthisforceisconsidered.If*distance*isnotspecified,returnsthecurrentminimumdistance,whichdefaultsto1.Aminimumdistanceestablishesanupperboundonthestrengthoftheforcebetweentwonearbynodes,avoidinginstability.Inparticular,itavoidsaninfinitely-strongforceiftwonodesareexactlycoincident;inthiscase,thedirectionoftheforceisrandom.##*manyBody*.distanceMax(*distance*){#manyBody_distanceMax}[Source](https://github.com/d3/d3-force/blob/main/src/manyBody.js)·If*distance*isspecified,setsthemaximumdistancebetweennodesoverwhichthisforceisconsidered.If*distance*isnotspecified,returnsthecurrentmaximumdistance,whichdefaultstoinfinity.Specifyingafinitemaximumdistanceimprovesperformanceandproducesamorelocalizedlayout.