<scriptsetup>import*asPlotfrom"@observablehq/plot";import*asd3from"d3";importPlotRenderfrom"./components/PlotRender.js";constrandom=d3.randomNormal.source(d3.randomLcg(42))();constpoints=Array.from({length:1000},()=>[random(),random()]);</script>#d3-polygonThismoduleprovidesafewbasicgeometricoperationsfortwo-dimensionalpolygons.Eachpolygonisrepresentedasanarrayoftwo-elementarrays[​[*x0*,*y0*],[*x1*,*y1*],…],andmayeitherbeclosed(whereinthefirstandlastpointarethesame)oropen(whereintheyarenot).Typicallypolygonsareincounterclockwiseorder,assumingacoordinatesystemwheretheoriginisinthetop-leftcorner.##polygonArea(*polygon*){#polygonArea}```jsd3.polygonArea([[1,1],[1.5,0],[2,1]])//-0.5```[Source](https://github.com/d3/d3-polygon/blob/main/src/area.js)·Returnsthesignedareaofthespecified*polygon*.Iftheverticesofthepolygonareincounterclockwiseorder(assumingacoordinatesystemwheretheoriginisinthetop-leftcorner),thereturnedareaispositive;otherwiseitisnegative,orzero.##polygonCentroid(*polygon*){#polygonCentroid}```jsd3.polygonArea([[1,1],[1.5,0],[2,1]])//[1.5,0.6666666666666666]```[Source](https://github.com/d3/d3-polygon/blob/main/src/centroid.js)·Returnsthe[centroid](https://en.wikipedia.org/wiki/Centroid)ofthespecified*polygon*.##polygonHull(*points*){#polygonHull}<PlotRenderdefer:options='{axis:null,aspectRatio:1,marks:[Plot.dot(points,{r:2,fill:"currentColor"}),Plot.hull(points)]}'/>```jsd3.polygonHull(points)//[[3.0872864263338777,-1.300100095019402],[1.6559368816733773,-2.5092525689499605],…]```[Source](https://github.com/d3/d3-polygon/blob/main/src/hull.js)·Returnsthe[convexhull](https://en.wikipedia.org/wiki/Convex_hull)ofthespecified*points*using[Andrew’smonotonechainalgorithm](http://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain).Thereturnedhullisrepresentedasanarraycontainingasubsetoftheinput*points*arrangedincounterclockwiseorder.Returnsnullif*points*hasfewerthanthreeelements.##polygonContains(*polygon*,*point*){#polygonContains}```jsd3.polygonContains([[1,1],[1.5,0],[2,1]],[1.5,0.667])//true```[Source](https://github.com/d3/d3-polygon/blob/main/src/contains.js)·Returnstrueifandonlyifthespecified*point*isinsidethespecified*polygon*.##polygonLength(*polygon*){#polygonLength}```jsd3.polygonLength([[1,1],[1.5,0],[2,1]])//3.23606797749979```[Source](https://github.com/d3/d3-polygon/blob/main/src/length.js)·Returnsthelengthoftheperimeterofthespecified*polygon*.