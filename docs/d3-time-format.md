#d3-time-formatThismoduleprovidesanapproximateJavaScriptimplementationofthevenerable[strptime](http://pubs.opengroup.org/onlinepubs/009695399/functions/strptime.html)and[strftime](http://pubs.opengroup.org/onlinepubs/007908799/xsh/strftime.html)functionsfromtheCstandardlibrary,andcanbeusedtoparseorformat[dates](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)inavarietyoflocale-specificrepresentations.Toformatadate,createa[formatter](#locale_format)fromaspecifier(astringwiththedesiredformat*directives*,indicatedby`%`);thenpassadatetotheformatter,whichreturnsastring.Forexample,toconvertthecurrentdatetoahuman-readablestring:```jsconstformatTime=d3.utcFormat("%B%d,%Y");formatTime(newDate());//"May31,2023"```Likewise,toconvertastringbacktoadate,createa[parser](#locale_parse):```jsconstparseTime=d3.utcParse("%B%d,%Y");parseTime("June30,2015");//2023-05-31```Youcanimplementmoreelaborateconditionaltimeformats,too.Forexample,here’samulti-scaletimeformatusing[timeintervals](./d3-time.md):```jsconstformatMillisecond=d3.utcFormat(".%L"),formatSecond=d3.utcFormat(":%S"),formatMinute=d3.utcFormat("%I:%M"),formatHour=d3.utcFormat("%I%p"),formatDay=d3.utcFormat("%a%d"),formatWeek=d3.utcFormat("%b%d"),formatMonth=d3.utcFormat("%B"),formatYear=d3.utcFormat("%Y");functionmultiFormat(date){return(d3.utcSecond(date)<date?formatMillisecond:d3.utcMinute(date)<date?formatSecond:d3.utcHour(date)<date?formatMinute:d3.utcDay(date)<date?formatHour:d3.utcMonth(date)<date?(d3.utcWeek(date)<date?formatDay:formatWeek):d3.utcYear(date)<date?formatMonth:formatYear)(date);}```ThismoduleisusedbyD3[timescales](./d3-scale/time.md)togeneratehuman-readableticks.Alsosee[*date*.toLocaleString](https://observablehq.com/@mbostock/date-formatting).##timeFormat(*specifier*){#timeFormat}```jsd3.timeFormat("%b%d")```Analiasfor[*locale*.format](#locale_format)onthe[defaultlocale](#timeFormatDefaultLocale).##timeParse(*specifier*){#timeParse}```jsd3.timeParse("%b%d")```Analiasfor[*locale*.parse](#locale_parse)onthe[defaultlocale](#timeFormatDefaultLocale).##utcFormat(*specifier*){#utcFormat}```jsd3.utcFormat("%b%d")```Analiasfor[*locale*.utcFormat](#locale_utcFormat)onthe[defaultlocale](#timeFormatDefaultLocale).##utcParse(*specifier*){#utcParse}```jsd3.utcParse("%b%d")```Analiasfor[*locale*.utcParse](#locale_utcParse)onthe[defaultlocale](#timeFormatDefaultLocale).##isoFormat{#isoFormat}```jsd3.isoFormat(newDate())//"2023-05-31T18:17:36.788Z"```[Source](https://github.com/d3/d3-time-format/blob/main/src/isoFormat.js)·Thefull[ISO8601](https://en.wikipedia.org/wiki/ISO_8601)UTCtimeformatter.Whereavailable,thismethodwilluse[Date.toISOString](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/toISOString)toformat.##isoParse{#isoParse}```jsd3.isoParse("2023-05-31T18:17:36.788Z")```[Source](https://github.com/d3/d3-time-format/blob/main/src/isoParse.js)·Thefull[ISO8601](https://en.wikipedia.org/wiki/ISO_8601)UTCtimeparser.Whereavailable,thismethodwillusethe[Dateconstructor](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date)toparsestrings.IfyoudependonstrictvalidationoftheinputformataccordingtoISO8601,youshouldconstructa[UTCparserfunction](#utcParse):```jsconststrictIsoParse=d3.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");```##*locale*.format(*specifier*){#locale_format}```jsd3.timeFormat("%b%d")```[Source](https://github.com/d3/d3-time-format/blob/main/src/locale.js)·Returnsanewformatterforthegivenstring*specifier*.Thespecifierstringmaycontainthefollowingdirectives:*`%a`-abbreviatedweekdayname.**`%A`-fullweekdayname.**`%b`-abbreviatedmonthname.**`%B`-fullmonthname.**`%c`-thelocale’sdateandtime,suchas`%x,%X`.**`%d`-zero-paddeddayofthemonthasadecimalnumber[01,31].*`%e`-space-paddeddayofthemonthasadecimalnumber[1,31];equivalentto`%_d`.*`%f`-microsecondsasadecimalnumber[000000,999999].*`%g`-ISO8601week-basedyearwithoutcenturyasadecimalnumber[00,99].*`%G`-ISO8601week-basedyearwithcenturyasadecimalnumber.*`%H`-hour(24-hourclock)asadecimalnumber[00,23].*`%I`-hour(12-hourclock)asadecimalnumber[01,12].*`%j`-dayoftheyearasadecimalnumber[001,366].*`%m`-monthasadecimalnumber[01,12].*`%M`-minuteasadecimalnumber[00,59].*`%L`-millisecondsasadecimalnumber[000,999].*`%p`-eitherAMorPM.**`%q`-quarteroftheyearasadecimalnumber[1,4].*`%Q`-millisecondssinceUNIXepoch.*`%s`-secondssinceUNIXepoch.*`%S`-secondasadecimalnumber[00,61].*`%u`-Monday-based(ISO8601)weekdayasadecimalnumber[1,7].*`%U`-Sunday-basedweekoftheyearasadecimalnumber[00,53].*`%V`-ISO8601weekoftheyearasadecimalnumber[01,53].*`%w`-Sunday-basedweekdayasadecimalnumber[0,6].*`%W`-Monday-basedweekoftheyearasadecimalnumber[00,53].*`%x`-thelocale’sdate,suchas`%-m/%-d/%Y`.**`%X`-thelocale’stime,suchas`%-I:%M:%S%p`.**`%y`-yearwithoutcenturyasadecimalnumber[00,99].*`%Y`-yearwithcenturyasadecimalnumber,suchas`1999`.*`%Z`-timezoneoffset,suchas`-0700`,`-07:00`,`-07`,or`Z`.*`%%`-aliteralpercentsign(`%`).Directivesmarkedwithanasterisk(\*)maybeaffectedbythe[localedefinition](#timeFormatLocale).For`%U`,alldaysinanewyearprecedingthefirstSundayareconsideredtobeinweek0.For`%W`,alldaysinanewyearprecedingthefirstMondayareconsideredtobeinweek0.Weeknumbersarecomputedusing[*interval*.count](./d3-time.md#interval_count).Forexample,2015-52and2016-00representMonday,December28,2015,while2015-53and2016-01representMonday,January4,2016.Thisdiffersfromthe[ISOweekdate](https://en.wikipedia.org/wiki/ISO_week_date)specification(`%V`),whichusesamorecomplicateddefinition!For`%V`,`%g`and`%G`,perthe[strftimemanpage](http://man7.org/linux/man-pages/man3/strftime.3.html):>Inthissystem,weeksstartonaMonday,andarenumberedfrom01,forthefirstweek,upto52or53,forthelastweek.Week1isthefirstweekwherefourormoredaysfallwithinthenewyear(or,synonymously,week01is:thefirstweekoftheyearthatcontainsaThursday;or,theweekthathas4Januaryinit).IftheISOweeknumberbelongstothepreviousornextyear,thatyearisusedinstead.The`%`signindicatingadirectivemaybeimmediatelyfollowedbyapaddingmodifier:*`0`-zero-padding*`_`-space-padding*`-`-disablepaddingIfnopaddingmodifierisspecified,thedefaultis`0`foralldirectivesexcept`%e`,whichdefaultsto`_`.(Insomeimplementationsofstrftimeandstrptime,adirectivemayincludeanoptionalfieldwidthorprecision;thisfeatureisnotyetimplemented.)Thereturnedfunctionformatsaspecified*[date](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date)*,returningthecorrespondingstring.```jsconstformatMonth=d3.timeFormat("%B"),formatDay=d3.timeFormat("%A"),date=newDate(2014,4,1);//ThuMay01201400:00:00GMT-0700(PDT)formatMonth(date);//"May"formatDay(date);//"Thursday"```##*locale*.parse(*specifier*){#locale_parse}```jsd3.timeParse("%b%d")```[Source](https://github.com/d3/d3-time-format/blob/main/src/locale.js)·Returnsanewparserforthegivenstring*specifier*.Thespecifierstringmaycontainthesamedirectivesas[*locale*.format](#locale_format).The`%d`and`%e`directivesareconsideredequivalentforparsing.Thereturnedfunctionparsesaspecified*string*,returningthecorresponding[date](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date)ornullifthestringcouldnotbeparsedaccordingtothisformat’sspecifier.Parsingisstrict:ifthespecified<i>string</i>doesnotexactlymatchtheassociatedspecifier,thismethodreturnsnull.Forexample,iftheassociatedspecifieris`%Y-%m-%dT%H:%M:%SZ`,thenthestring`"2011-07-01T19:15:28Z"`willbeparsedasexpected,but`"2011-07-01T19:15:28"`,`"2011-07-0119:15:28"`and`"2011-07-01"`willreturnnull.(Notethattheliteral`Z`hereisdifferentfromthetimezoneoffsetdirective`%Z`.)Ifamoreflexibleparserisdesired,trymultipleformatssequentiallyuntilonereturnsnon-null.##*locale*.utcFormat(*specifier*){#locale_utcFormat}```jsd3.utcFormat("%b%d")```[Source](https://github.com/d3/d3-time-format/blob/main/src/locale.js)·Equivalentto[*locale*.format](#locale_format),exceptalldirectivesareinterpretedas[CoordinatedUniversalTime(UTC)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time)ratherthanlocaltime.##*locale*.utcParse(*specifier*){#locale_utcParse}```jsd3.utcParse("%b%d")```[Source](https://github.com/d3/d3-time-format/blob/main/src/locale.js)·Equivalentto[*locale*.parse](#locale_parse),exceptalldirectivesareinterpretedas[CoordinatedUniversalTime(UTC)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time)ratherthanlocaltime.##timeFormatLocale(*definition*){#timeFormatLocale}```jsconstenUs=d3.timeFormatLocale({dateTime:"%x,%X",date:"%-m/%-d/%Y",time:"%-I:%M:%S%p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});```[Source](https://github.com/d3/d3-time-format/blob/main/src/locale.js)·Returnsa*locale*objectforthespecified*definition*with[*locale*.format](#locale_format),[*locale*.parse](#locale_parse),[*locale*.utcFormat](#locale_utcFormat),[*locale*.utcParse](#locale_utcParse)methods.The*definition*mustincludethefollowingproperties:*`dateTime`-thedateandtime(`%c`)formatspecifier(<i>e.g.</i>,`"%a%b%e%X%Y"`).*`date`-thedate(`%x`)formatspecifier(<i>e.g.</i>,`"%m/%d/%Y"`).*`time`-thetime(`%X`)formatspecifier(<i>e.g.</i>,`"%H:%M:%S"`).*`periods`-theA.M.andP.M.equivalents(<i>e.g.</i>,`["AM","PM"]`).*`days`-thefullnamesoftheweekdays,startingwithSunday.*`shortDays`-theabbreviatednamesoftheweekdays,startingwithSunday.*`months`-thefullnamesofthemonths(startingwithJanuary).*`shortMonths`-theabbreviatednamesofthemonths(startingwithJanuary).##timeFormatDefaultLocale(*definition*){#timeFormatDefaultLocale}```jsconstenUs=d3.timeFormatDefaultLocale({dateTime:"%x,%X",date:"%-m/%-d/%Y",time:"%-I:%M:%S%p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});```[Source](https://github.com/d3/d3-time-format/blob/main/src/defaultLocale.js)·Equivalentto[d3.timeFormatLocale](#timeFormatLocale),exceptitalsoredefines[d3.timeFormat](#timeFormat),[d3.timeParse](#timeParse),[d3.utcFormat](#utcFormat)and[d3.utcParse](#utcParse)tothenewlocale’s[*locale*.format](#locale_format),[*locale*.parse](#locale_parse),[*locale*.utcFormat](#locale_utcFormat)and[*locale*.utcParse](#locale_utcParse).Ifyoudonotsetadefaultlocale,itdefaultsto[U.S.English](https://github.com/d3/d3-time-format/blob/main/locale/en-US.json).