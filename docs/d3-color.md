<scriptsetup>import*asd3from"d3";importColorSpanfrom"./components/ColorSpan.vue";</script>#d3-colorEventhoughyourbrowserunderstandsalotaboutcolors,itdoesn’toffermuchhelpinmanipulatingcolorsthroughJavaScript.Thed3-colormodulethereforeprovidesrepresentationsforvariouscolorspaces,allowingspecification,conversionandmanipulation.(Alsosee[d3-interpolate](./d3-interpolate.md)forcolorinterpolation.)Forexample,takethenamedcolor<ColorSpancolor="steelblue"/>,whichis<ColorSpancolor="steelblue"format="rgb"/>inRGB:```jsletc=d3.color("steelblue");//{r:70,g:130,b:180,opacity:1}```ToconverttoHSL<ColorSpancolor="steelblue"format="hsl"/>:```jsc=d3.hsl(c);//{h:207.27…,s:0.44,l:0.4902…,opacity:1}```Tothenrotatethehueby90°<ColorSpan:color="(((c)=>(c.h+=90,c))(d3.hsl('steelblue')))"format="hsl"/>,increasethesaturationby20%<ColorSpan:color="(((c)=>(c.h+=90,c.s+=0.2,c))(d3.hsl('steelblue')))"format="hsl"/>,andformatasanRGBstring<ColorSpan:color="(((c)=>(c.h+=90,c.s+=0.2,c))(d3.hsl('steelblue')))"/>:```jsc.h+=90;c.s+=0.2;c+"";//rgb(198,45,205)```Tofadethecolorslightly<ColorSpan:color="(((c)=>(c.h+=90,c.s+=0.2,c.opacity=0.8,c))(d3.hsl('steelblue')))"/>:```jsc.opacity=0.8;c+"";//rgba(198,45,205,0.8)```Inadditiontotheubiquitousandmachine-friendly[RGB](#rgb)and[HSL](#hsl)colorspace,d3-colorsupportscolorspacesthataredesignedforhumans:*[CIELAB](#lab)(*a.k.a.*“Lab”)*[CIELCh<sub>ab</sub>](#lch)(*a.k.a.*“LCh”or“HCL”)*DaveGreen’s[Cubehelix](#cubehelix)Cubehelixfeaturesmonotoniclightness,whileCIELABanditspolarformCIELCh<sub>ab</sub>areperceptuallyuniform.Foradditionalcolorspaces,see:*[d3-cam16](https://github.com/d3/d3-cam16)*[d3-cam02](https://github.com/connorgr/d3-cam02)*[d3-hsv](https://github.com/d3/d3-hsv)*[d3-hcg](https://github.com/d3/d3-hcg)*[d3-hsluv](https://github.com/petulla/d3-hsluv)Tomeasurecolordifferences,see:*[d3-color-difference](https://github.com/Evercoder/d3-color-difference)##color(*specifier*){#color}```jsd3.color("steelblue")//{r:70,g:130,b:180,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Parsesthespecified[CSSColorModuleLevel3](http://www.w3.org/TR/css3-color/#colorunits)*specifier*string,returningan[RGB](#rgb)or[HSL](#hsl)color,alongwith[CSSColorModuleLevel4hex](https://www.w3.org/TR/css-color-4/#hex-notation)*specifier*strings.Ifthespecifierwasnotvalid,nullisreturned.Someexamples:*<ColorSpancolor="rgb(255,255,255)"/>*<ColorSpancolor="rgb(10%,20%,30%)"/>*<ColorSpancolor="rgba(255,255,255,0.4)"/>*<ColorSpancolor="rgba(10%,20%,30%,0.4)"/>*<ColorSpancolor="hsl(120,50%,20%)"/>*<ColorSpancolor="hsla(120,50%,20%,0.4)"/>*<ColorSpancolor="#ffeeaa"/>*<ColorSpancolor="#fea"/>*<ColorSpancolor="#ffeeaa22"/>*<ColorSpancolor="#fea2"/>*<ColorSpancolor="steelblue"/>Thelistofsupported[namedcolors](http://www.w3.org/TR/SVG/types.html#ColorKeywords)isspecifiedbyCSS.Note:thisfunctionmayalsobeusedwith`instanceof`totestifanobjectisacolorinstance.Thesameistrueofcolorsubclasses,allowingyoutotestwhetheracolorisinaparticularcolorspace.##*color*.opacity{#color_opacity}```jsd3.color("steelblue").opacity//1```Thiscolor’sopacity,typicallyintherange[0,1].##*color*.rgb(){#color_rgb}```jsd3.color("hsl(120,50%,20%)").rgb()//{r:25.5,g:76.5,b:25.5,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnsthe[RGBequivalent](#rgb)ofthiscolor.ForRGBcolors,that’s`this`.##*color*.copy(*values*){#color_copy}```jsd3.color("steelblue").copy({opacity:0.5})//{r:70,g:130,b:180,opacity:0.5}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnsacopyofthiscolor.If*values*isspecified,anyenumerableownpropertiesof*values*areassignedtothenewreturnedcolor.##*color*.brighter(*k*){#color_brighter}```jsd3.color("steelblue").brighter(1)//{r:100,g:185.71428571428572,b:257.14285714285717,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnsabrightercopyofthiscolor.Forexample,if*k*is1,<ColorSpancolor="steelblue"/>inRGBcolorspacebecomes<ColorSpan:color="d3.rgb('steelblue').brighter()"/>.Theparameter*k*controlshowmuchbrighterthereturnedcolorshouldbe(inarbitraryunits);if*k*isnotspecified,itdefaultsto1.Thebehaviorofthismethodisdependentontheimplementingcolorspace.##*color*.darker(*k*){#color_darker}```jsd3.color("steelblue").darker(1)//{r:49,g:91,b:126,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnsadarkercopyofthiscolor.Forexample,if*k*is1,<ColorSpancolor="steelblue"/>inRGBcolorspacebecomes<ColorSpan:color="d3.rgb('steelblue').darker()"/>.Theparameter*k*controlshowmuchdarkerthereturnedcolorshouldbe(inarbitraryunits);if*k*isnotspecified,itdefaultsto1.Thebehaviorofthismethodisdependentontheimplementingcolorspace.##*color*.displayable(){#color_displayable}```jsd3.color("steelblue").displayable(1)//true```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnstrueifandonlyifthecolorisdisplayableonstandardhardware.Forexample,thisreturnsfalseforanRGBcolorifanychannelvalueislessthanzeroorgreaterthan255whenrounded,oriftheopacityisnotintherange[0,1].##*color*.formatHex(){#color_formatHex}```jsd3.color("steelblue").formatHex()//"#4682b4"```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·ReturnsahexadecimalstringrepresentingthiscolorinRGBspace,suchas<ColorSpancolor="steelblue"format="hex"/>.Ifthiscolorisnotdisplayable,asuitabledisplayablecolorisreturnedinstead.Forexample,RGBchannelvaluesgreaterthan255areclampedto255.##*color*.formatHex8(){#color_formatHex8}```jsd3.color("steelblue").formatHex8()//"#4682b4ff"```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·ReturnsahexadecimalstringrepresentingthiscolorinRGBAspace,suchas<ColorSpan:color="d3.rgb('steelblue').copy({opacity:0.8})"format="hex8"/>.Ifthiscolorisnotdisplayable,asuitabledisplayablecolorisreturnedinstead.Forexample,RGBchannelvaluesgreaterthan255areclampedto255.##*color*.formatHsl(){#color_formatHsl}```jsd3.color("yellow").formatHsl()//"hsl(60,100%,50%)"```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnsastringrepresentingthiscoloraccordingtothe[CSSColorModuleLevel3specification](https://www.w3.org/TR/css-color-3/#hsl-color),suchas<ColorSpancolor="hsl(257,50%,80%)"/>or<ColorSpancolor="hsla(257,50%,80%,0.2)"/>.Ifthiscolorisnotdisplayable,asuitabledisplayablecolorisreturnedinsteadbyclampingSandLchannelvaluestotheinterval[0,100].##*color*.formatRgb(){#color_formatRgb}```jsd3.color("yellow").formatRgb()//"rgb(255,255,0)"```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Returnsastringrepresentingthiscoloraccordingtothe[CSSObjectModelspecification](https://drafts.csswg.org/cssom/#serialize-a-css-component-value),suchas<ColorSpancolor="rgb(247,234,186)"/>or<ColorSpancolor="rgba(247,234,186,0.2)"/>.Ifthiscolorisnotdisplayable,asuitabledisplayablecolorisreturnedinsteadbyclampingRGBchannelvaluestotheinterval[0,255].##*color*.toString(){#color_toString}```jsd3.color("yellow").toString()//"rgb(255,255,0)"```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Analiasfor[*color*.formatRgb](#color_formatRgb).##rgb(*color*){#rgb}```jsd3.rgb("hsl(60,100%,50%)")//{r:255,g:255,b:0,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Constructsanew[RGB](https://en.wikipedia.org/wiki/RGB_color_model)color.Thechannelvaluesareexposedas`r`,`g`and`b`propertiesonthereturnedinstance.Usethe[RGBcolorpicker](https://observablehq.com/@d3/rgb-color-picker)toexplorethiscolorspace.If*r*,*g*and*b*arespecified,theserepresentthechannelvaluesofthereturnedcolor;an*opacity*mayalsobespecified.IfaCSSColorModuleLevel3*specifier*stringisspecified,itisparsedandthenconvertedtotheRGBcolorspace.See[color](#color)forexamples.Ifa[*color*](#color)instanceisspecified,itisconvertedtotheRGBcolorspaceusing[*color*.rgb](#color_rgb).Notethatunlike[*color*.rgb](#color_rgb)thismethod*always*returnsanewinstance,evenif*color*isalreadyanRGBcolor.##*rgb*.clamp(){#rgb_clamp}```jsd3.rgb(300,200,100).clamp()//{r:255,g:200,b:100,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·ReturnsanewRGBcolorwherethe`r`,`g`,and`b`channelsareclampedtotherange[0,255]androundedtothenearestintegervalue,andthe`opacity`isclampedtotherange[0,1].##hsl(*color*){#hsl}```jsd3.hsl("yellow")//{h:60,s:1,l:0.5,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·Constructsanew[HSL](https://en.wikipedia.org/wiki/HSL_and_HSV)color.Thechannelvaluesareexposedas`h`,`s`and`l`propertiesonthereturnedinstance.Usethe[HSLcolorpicker](https://observablehq.com/@d3/hsl-color-picker)toexplorethiscolorspace.If*h*,*s*and*l*arespecified,theserepresentthechannelvaluesofthereturnedcolor;an*opacity*mayalsobespecified.IfaCSSColorModuleLevel3*specifier*stringisspecified,itisparsedandthenconvertedtotheHSLcolorspace.See[color](#color)forexamples.Ifa[*color*](#color)instanceisspecified,itisconvertedtotheRGBcolorspaceusing[*color*.rgb](#color_rgb)andthenconvertedtoHSL.(ColorsalreadyintheHSLcolorspaceskiptheconversiontoRGB.)##*hsl*.clamp(){#hsl_clamp}```jsd3.hsl(400,2,0.5).clamp()//{h:40,s:1,l:0.5,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/color.js)·ReturnsanewHSLcolorwherethe`h`channelisclampedtotherange[0,360),andthe`s`,`l`,and`opacity`channelsareclampedtotherange[0,1].##lab(*color*){#lab}```jsd3.lab("red")//{l:54.29173376861782,a:80.8124553179771,b:69.88504032350531,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/lab.js)·Constructsanew[CIELAB](https://en.wikipedia.org/wiki/Lab_color_space#CIELAB)color.Thechannelvaluesareexposedas`l`,`a`and`b`propertiesonthereturnedinstance.Usethe[CIELABcolorpicker](https://observablehq.com/@d3/lab-color-picker)toexplorethiscolorspace.Thevalueof*l*istypicallyintherange[0,100],while*a*and*b*aretypicallyin[-160,+160].If*l*,*a*and*b*arespecified,theserepresentthechannelvaluesofthereturnedcolor;an*opacity*mayalsobespecified.IfaCSSColorModuleLevel3*specifier*stringisspecified,itisparsedandthenconvertedtotheCIELABcolorspace.See[color](#color)forexamples.Ifa[*color*](#color)instanceisspecified,itisconvertedtotheRGBcolorspaceusing[*color*.rgb](#color_rgb)andthenconvertedtoCIELAB.(ColorsalreadyintheCIELABcolorspaceskiptheconversiontoRGB,andcolorsintheHCLcolorspaceareconverteddirectlytoCIELAB.)##gray(*l*,*opacity*){#gray}```jsd3.gray(50)//{l:50,a:0,b:0,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/lab.js)·Constructsanew[CIELAB](#lab)colorwiththespecified*l*valueand*a*=*b*=0.##hcl(*color*){#hcl}```jsd3.hcl("yellow")//{h:99.57458688693687,c:94.70776566727464,l:97.60712516622824,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/lab.js)·Equivalentto[d3.lch](#lch),butwithreversedargumentorder.##lch(*color*){#lch}```jsd3.lch("yellow")//{h:99.57458688693687,c:94.70776566727464,l:97.60712516622824,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/lab.js)·Constructsanew[CIELCh<sub>ab</sub>](https://en.wikipedia.org/wiki/CIELAB_color_space#Cylindrical_representation:_CIELCh_or_CIEHLC)color.Thechannelvaluesareexposedas`l`,`c`and`h`propertiesonthereturnedinstance.Usethe[CIELCh<sub>ab</sub>colorpicker](https://observablehq.com/@d3/hcl-color-picker)toexplorethiscolorspace.Thevalueof*l*istypicallyintherange[0,100],*c*istypicallyin[0,230],and*h*istypicallyin[0,360).If*l*,*c*,and*h*arespecified,theserepresentthechannelvaluesofthereturnedcolor;an*opacity*mayalsobespecified.IfaCSSColorModuleLevel3*specifier*stringisspecified,itisparsedandthenconvertedtoCIELCh<sub>ab</sub>colorspace.See[color](#color)forexamples.Ifa[*color*](#color)instanceisspecified,itisconvertedtotheRGBcolorspaceusing[*color*.rgb](#color_rgb)andthenconvertedtoCIELCh<sub>ab</sub>.(ColorsalreadyinCIELCh<sub>ab</sub>colorspaceskiptheconversiontoRGB,andcolorsinCIELABcolorspaceareconverteddirectlytoCIELCh<sub>ab</sub>.)##cubehelix(*color*){#cubehelix}```jsd3.cubehelix("yellow")//{h:56.942171677321085,s:4.614386868039714,l:0.8900004504279901,opacity:1}```[Source](https://github.com/d3/d3-color/blob/main/src/cubehelix.js)·Constructsanew[Cubehelix](http://www.mrao.cam.ac.uk/~dag/CUBEHELIX/)color.Thechannelvaluesareexposedas`h`,`s`and`l`propertiesonthereturnedinstance.If*h*,*s*and*l*arespecified,theserepresentthechannelvaluesofthereturnedcolor;an*opacity*mayalsobespecified.IfaCSSColorModuleLevel3*specifier*stringisspecified,itisparsedandthenconvertedtotheCubehelixcolorspace.See[color](#color)forexamples.Ifa[*color*](#color)instanceisspecified,itisconvertedtotheRGBcolorspaceusing[*color*.rgb](#color_rgb)andthenconvertedtoCubehelix.(ColorsalreadyintheCubehelixcolorspaceskiptheconversiontoRGB.)