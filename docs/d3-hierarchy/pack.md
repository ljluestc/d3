#Pack{#Pack}[<imgalt="Circle-Packing"src="https://raw.githubusercontent.com/d3/d3-hierarchy/main/img/pack.png">](https://observablehq.com/@d3/circle-packing)[Examples](https://observablehq.com/@d3/circle-packing)·Enclosurediagramsusecontainment(nesting)torepresentahierarchy.Thesizeoftheleafcirclesencodesaquantitativedimensionofthedata.Theenclosingcirclesshowtheapproximatecumulativesizeofeachsubtree,butduetowastedspacethereissomedistortion;onlytheleafnodescanbecomparedaccurately.Although[circlepacking](http://en.wikipedia.org/wiki/Circle_packing)doesnotusespaceasefficientlyasa[treemap](./treemap.md),the“wasted”spacemoreprominentlyrevealsthehierarchicalstructure.##pack(){#pack}[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/index.js)·Createsanewpacklayoutwiththedefaultsettings.###*pack*(*root*){#_pack}[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/index.js)·Laysoutthespecified*root*[hierarchy](./hierarchy.md),assigningthefollowingpropertieson*root*anditsdescendants:**node*.x-the*x*-coordinateofthecircle’scenter**node*.y-theycoordinateofthecircle’scenter**node*.r-theradiusofthecircleYoumustcall[*root*.sum](./hierarchy.md#node_sum)beforepassingthehierarchytothepacklayout.Youprobablyalsowanttocall[*root*.sort](./hierarchy.md#node_sort)toorderthehierarchybeforecomputingthelayout.##*pack*.radius(*radius*){#pack_radius}[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/index.js)·If*radius*isspecified,setsthepacklayout’sradiusaccessortothespecifiedfunctionandreturnsthispacklayout.If*radius*isnotspecified,returnsthecurrentradiusaccessor,whichdefaultstonull.Iftheradiusaccessorisnull,theradiusofeachleafcircleisderivedfromtheleaf*node*.value(computedby[*node*.sum](./hierarchy.md#node_sum));theradiiarethenscaledproportionallytofitthe[layoutsize](#pack_size).Iftheradiusaccessorisnotnull,theradiusofeachleafcircleisspecifiedexactlybythefunction.##*pack*.size(*size*){#pack_size}[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/index.js)·If*size*isspecified,setsthispacklayout’ssizetothespecifiedtwo-elementarrayofnumbers[*width*,*height*]andreturnsthispacklayout.If*size*isnotspecified,returnsthecurrentsize,whichdefaultsto[1,1].##*pack*.padding(*padding*){#pack_padding}[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/index.js)·If*padding*isspecified,setsthispacklayout’spaddingaccessortothespecifiednumberorfunctionandreturnsthispacklayout.If*padding*isnotspecified,returnsthecurrentpaddingaccessor,whichdefaultstotheconstantzero.Whensiblingsarepacked,tangentsiblingswillbeseparatedbyapproximatelythespecifiedpadding;theenclosingparentcirclewillalsobeseparatedfromitschildrenbyapproximatelythespecifiedpadding.Ifan[explicitradius](#pack_radius)isnotspecified,thepaddingisapproximatebecauseatwo-passalgorithmisneededtofitwithinthe[layoutsize](#pack_size):thecirclesarefirstpackedwithoutpadding;ascalingfactoriscomputedandappliedtothespecifiedpadding;andlastlythecirclesarere-packedwithpadding.##packSiblings(*circles*){#packSiblings}[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/siblings.js)·Packsthespecifiedarrayof*circles*,eachofwhichmusthavea*circle*.rpropertyspecifyingthecircle’sradius.Assignsthefollowingpropertiestoeachcircle:**circle*.x-the*x*-coordinateofthecircle’scenter**circle*.y-theycoordinateofthecircle’scenterThecirclesarepositionedaccordingtothefront-chainpackingalgorithmby[Wang*etal.*](https://dl.acm.org/citation.cfm?id=1124851)##packEnclose(*circles*){#packEnclose}[Examples](https://observablehq.com/@d3/d3-packenclose)·[Source](https://github.com/d3/d3-hierarchy/blob/main/src/pack/enclose.js)·Computesthe[smallestcircle](https://en.wikipedia.org/wiki/Smallest-circle_problem)thatenclosesthespecifiedarrayof*circles*,eachofwhichmusthavea*circle*.rpropertyspecifyingthecircle’sradius,and*circle*.xand*circle*.ypropertiesspecifyingthecircle’scenter.Theenclosingcircleiscomputedusingthe[Matoušek-Sharir-Welzlalgorithm](http://www.inf.ethz.ch/personal/emo/PublFiles/SubexLinProg_ALG16_96.pdf).(Seealso[Apollonius’Problem](https://observablehq.com/@d3/apollonius-problem).)