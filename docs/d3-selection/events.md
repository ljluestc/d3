#HandlingeventsForinteraction,selectionsallowlisteningforanddispatchingofevents.##*selection*.on(*typenames*,*listener*,*options*){#selection_on}[Source](https://github.com/d3/d3-selection/blob/main/src/selection/on.js)·Addsorremovesa*listener*toeachselectedelementforthespecifiedevent*typenames*.```jsd3.selectAll("p").on("click",(event)=>console.log(event))```The*typenames*isastringeventtype,suchas`click`,`mouseover`,or`submit`;any[DOMeventtype](https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events)supportedbyyourbrowsermaybeused.Thetypemaybeoptionallyfollowedbyaperiod(`.`)andaname;theoptionalnameallowsmultiplecallbackstoberegisteredtoreceiveeventsofthesametype,suchas`click.foo`and`click.bar`.Tospecifymultipletypenames,separatetypenameswithspaces,suchas`inputchange`or`click.fooclick.bar`.Whenaspecifiedeventisdispatchedonaselectedelement,thespecified*listener*willbeevaluatedfortheelement,beingpassedthecurrentevent(*event*)andthecurrentdatum(*d*),with*this*asthecurrentDOMelement(*event*.currentTarget).Listenersalwaysseethelatestdatumfortheirelement.Note:whileyoucanuse[*event*.pageX](https://developer.mozilla.org/en/DOM/event.pageX)and[*event*.pageY](https://developer.mozilla.org/en/DOM/event.pageY)directly,itisoftenconvenienttotransformtheeventpositiontothelocalcoordinatesystemoftheelementthatreceivedtheeventusing[d3.pointer](#pointer).Ifaneventlistenerwaspreviouslyregisteredforthesame*typename*onaselectedelement,theoldlistenerisremovedbeforethenewlistenerisadded.Toremovealistener,passnullasthe*listener*.Toremovealllistenersforagivenname,passnullasthe*listener*and`.foo`asthe*typename*,where`foo`isthename;toremovealllistenerswithnoname,specify`.`asthe*typename*.Anoptional*options*objectmayspecifycharacteristicsabouttheeventlistener,suchaswhetheritiscapturingorpassive;see[*element*.addEventListener](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener).Ifa*listener*isnotspecified,returnsthecurrently-assignedlistenerforthespecifiedevent*typename*onthefirst(non-null)selectedelement,ifany.Ifmultipletypenamesarespecified,thefirstmatchinglistenerisreturned.##*selection*.dispatch(*type*,*parameters*){#selection_dispatch}[Source](https://github.com/d3/d3-selection/blob/main/src/selection/dispatch.js)·Dispatchesa[customevent](http://www.w3.org/TR/dom/#interface-customevent)ofthespecified*type*toeachselectedelement,inorder.```jsd3.select("p").dispatch("click")```Anoptional*parameters*objectmaybespecifiedtosetadditionalpropertiesoftheevent.Itmaycontainthefollowingfields:*[`bubbles`](https://www.w3.org/TR/dom/#dom-event-bubbles)-iftrue,theeventisdispatchedtoancestorsinreversetreeorder.*[`cancelable`](https://www.w3.org/TR/dom/#dom-event-cancelable)-iftrue,*event*.preventDefaultisallowed.*[`detail`](https://www.w3.org/TR/dom/#dom-customevent-detail)-anycustomdataassociatedwiththeevent.If*parameters*isafunction,itisevaluatedforeachselectedelement,inorder,beingpassedthecurrentdatum(*d*),thecurrentindex(*i*),andthecurrentgroup(*nodes*),with*this*asthecurrentDOMelement(*nodes*[*i*]).Itmustreturntheparametersforthecurrentelement.##pointer(*event*,*target*){#pointer}[Source](https://github.com/d3/d3-selection/blob/main/src/pointer.js)·Returnsatwo-elementarrayofnumbers[*x*,*y*]representingthecoordinatesofthespecified*event*relativetothespecified*target*.```jsconst[x,y]=d3.pointer(event);```*event*canbea[MouseEvent](https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent),a[PointerEvent](https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent),a[Touch](https://www.w3.org/TR/touch-events/#touch-interface),oracustomeventholdingaUIEventas*event*.sourceEvent.If*target*isnotspecified,itdefaultstothesourceevent’scurrentTargetproperty,ifavailable.Ifthe*target*isanSVGelement,theevent’scoordinatesaretransformedusingthe[inverse](https://www.w3.org/TR/geometry-1/#dom-dommatrixreadonly-inverse)ofthe[screencoordinatetransformationmatrix](https://www.w3.org/TR/SVG/types.html#__svg__SVGGraphicsElement__getScreenCTM).Ifthe*target*isanHTMLelement,theevent’scoordinatesaretranslatedrelativetothetop-leftcornerofthe*target*’s[boundingclientrectangle](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect).(Assuch,thecoordinatesystemcanonlybetranslatedrelativetotheclientcoordinates.Seealso[GeometryUtils](https://www.w3.org/TR/cssom-view-1/#the-geometryutils-interface).)Otherwise,[*event*.pageX,*event*.pageY]isreturned.##pointers(*event*,*target*){#pointers}[Source](https://github.com/d3/d3-selection/blob/main/src/pointers.js)·Returnsanarray[[*x0*,*y0*],[*x1*,*y1*]…]ofcoordinatesofthespecified*event*’spointerlocationsrelativetothespecified*target*.```jsconstpoints=d3.pointers(event);```Fortouchevents,thereturnedarrayofpositionscorrespondstothe*event*.touchesarray;forotherevents,returnsasingle-elementarray.If*target*isnotspecified,itdefaultstothesourceevent’scurrentTargetproperty,ifany.